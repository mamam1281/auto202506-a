/* Input 컴포넌트 스타일 - 성능 최적화 및 표준화 */

/* ============================================
   원치 않는 효과 완전 제거 (Button과 동일)
   ============================================ */
.input,
.input *,
.input::before,
.input::after {
  /* 모든 기본 브라우저 효과 제거 */
  outline: none !important;
  box-shadow: none !important;
  background-attachment: initial !important;
  background-blend-mode: normal !important;
  filter: none !important;
  backdrop-filter: none !important;
  -webkit-appearance: none !important;
  -moz-appearance: none !important;
  appearance: none !important;
  
  /* 모바일 탭 하이라이트 제거 */
  -webkit-tap-highlight-color: transparent !important;
  -webkit-touch-callout: none !important;
  -webkit-user-select: none !important;
  -moz-user-select: none !important;
  -ms-user-select: none !important;
  user-select: none !important;
}

.input {
  user-select: text !important; /* 입력 필드는 텍스트 선택 가능 */
}

/* ============================================
   기본 컨테이너 및 레이아웃
   ============================================ */

.container {
  display: flex;
  flex-direction: column;
  gap: var(--grid-1, 0.5rem);
  width: 100%;
}

.inputWrapper {
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;
}

.fullWidth {
  width: 100%;
}

/* ============================================
   메인 Input 스타일 (2가지 효과만 적용)
   ============================================ */

.input {
  width: 100%;
  font-family: var(--font-family-base, inherit);
  font-weight: var(--font-weight-normal, 400);
  background-color: var(--color-slate-800, #1e293b);
  color: var(--color-slate-200, #e2e8f0);
  border: 2px solid var(--color-slate-600, #475569);
  border-radius: var(--radius-button, 0.5rem);
  
  /* 2가지 효과만: Border Animation + Color Shift */
  transition: 
    border-color var(--duration-fast, 0.25s) var(--easing-ease-out, cubic-bezier(0.4, 0, 0.2, 1)),
    background-color var(--duration-fast, 0.25s) var(--easing-ease-out, cubic-bezier(0.4, 0, 0.2, 1)),
    color var(--duration-fast, 0.25s) var(--easing-ease-out, cubic-bezier(0.4, 0, 0.2, 1));
}

.input::placeholder {
  color: var(--color-slate-400, #94a3b8);
  opacity: 1;
  transition: opacity var(--duration-fast, 0.25s) ease-in-out;
}

/* ============================================
   상호작용 효과 1: Border Animation (Focus)
   ============================================ */

.input:focus {
  border-color: var(--color-primary-500, #3b82f6);
  position: relative;
}

/* 테두리 애니메이션 효과 */
.input:focus::before {
  content: '';
  position: absolute;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  border-radius: inherit;
  background: linear-gradient(45deg, 
    var(--color-primary-500, #3b82f6), 
    var(--color-primary-400, #60a5fa),
    var(--color-primary-500, #3b82f6)
  );
  background-size: 200% 200%;
  animation: borderFlow 2s linear infinite;
  z-index: -1;
  opacity: 0.3;
}

@keyframes borderFlow {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* ============================================
   상호작용 효과 2: Color Shift (상태별)
   ============================================ */

/* 포커스 색상 변화 */
.input:focus {
  background-color: var(--color-slate-750, #0f172a);
  color: var(--color-primary-200, #bfdbfe);
}

.input:focus::placeholder {
  opacity: 0.5;
}

/* 에러 상태 색상 변화 */
.input.error {
  border-color: var(--color-red-500, #ef4444);
  background-color: var(--color-red-950, #450a0a);
  color: var(--color-red-200, #fecaca);
}

.input.error:focus {
  border-color: var(--color-red-500, #ef4444);
  background-color: var(--color-red-900, #7f1d1d);
}

/* 성공 상태 색상 변화 */
.input.success {
  border-color: var(--color-green-500, #10b981);
  background-color: var(--color-green-950, #064e3b);
  color: var(--color-green-200, #bbf7d0);
}

.input.success:focus {
  border-color: var(--color-green-500, #10b981);
  background-color: var(--color-green-900, #14532d);
}

/* 비활성화 상태 */
.input:disabled,
.input.disabled {
  opacity: 0.5;
  cursor: not-allowed;
  background-color: var(--color-slate-700, #334155);
  color: var(--color-slate-400, #94a3b8);
  border-color: var(--color-slate-600, #475569);
}

/* ============================================
   크기별 스타일
   ============================================ */

.input.sm {
  height: 32px;
  padding: 8px 12px;
  font-size: var(--font-size-sm, 0.875rem);
}

.input.md {
  height: 40px;
  padding: 12px 16px;
  font-size: var(--font-size-base, 1rem);
}

.input.lg {
  height: 48px;
  padding: 16px 20px;
  font-size: var(--font-size-lg, 1.125rem);
}

/* ============================================
   라벨 및 메시지
   ============================================ */

.label {
  font-size: var(--font-size-sm, 0.875rem);
  font-weight: var(--font-weight-medium, 500);
  color: var(--color-slate-200, #e2e8f0);
  margin-bottom: var(--grid-1, 0.5rem);
  transition: color var(--duration-fast, 0.25s) ease-in-out;
}

.errorText {
  font-size: var(--font-size-xs, 0.75rem);
  color: var(--color-red-400, #f87171);
  margin-top: var(--grid-1, 0.5rem);
  font-weight: var(--font-weight-medium, 500);
}

.successText {
  font-size: var(--font-size-xs, 0.75rem);
  color: var(--color-green-400, #4ade80);
  margin-top: var(--grid-1, 0.5rem);
  font-weight: var(--font-weight-medium, 500);
}

/* ============================================
   아이콘 스타일
   ============================================ */

.leftIcon {
  position: absolute;
  left: 12px;
  color: var(--color-slate-400, #94a3b8);
  pointer-events: none;
  z-index: 1;
  transition: color var(--duration-fast, 0.25s) ease-in-out;
}

.rightIcon {
  position: absolute;
  right: 12px;
  color: var(--color-slate-400, #94a3b8);
  pointer-events: none;
  z-index: 1;
  transition: color var(--duration-fast, 0.25s) ease-in-out;
}

.input:focus ~ .leftIcon,
.input:focus ~ .rightIcon {
  color: var(--color-primary-400, #60a5fa);
}

.withLeftIcon {
  padding-left: 2.5rem;
}

.withRightIcon {
  padding-right: 2.5rem;
}

/* ============================================
   패스워드 토글
   ============================================ */

.passwordToggle {
  background: none;
  border: none;
  cursor: pointer;
  padding: 0.25rem;
  color: var(--color-slate-400, #94a3b8);
  transition: all var(--duration-fast, 0.25s) ease-in-out;
  pointer-events: auto;
  border-radius: var(--radius-sm, 0.25rem);
}

.passwordToggle:hover {
  color: var(--color-primary-400, #60a5fa);
  background-color: var(--color-primary-900, rgba(59, 130, 246, 0.1));
}

.passwordToggle:focus {
  outline: 2px solid var(--color-primary-500, #3b82f6);
  outline-offset: 2px;
}

/* ============================================
   타이핑 효과용 플레이스홀더
   ============================================ */

.typingPlaceholder {
  position: absolute;
  left: 16px;
  color: var(--color-slate-400, #94a3b8);
  pointer-events: none;
  font-size: inherit;
  line-height: inherit;
  transition: opacity var(--duration-fast, 0.25s) ease-in-out;
  font-family: 'JetBrains Mono', 'Fira Code', monospace, inherit;
}

.input:focus + .typingPlaceholder,
.input:not(:placeholder-shown) + .typingPlaceholder {
  opacity: 0;
}

/* ============================================
   툴팁 (성능 최적화)
   ============================================ */

.tooltip {
  position: absolute;
  background: var(--color-slate-900, #0f172a);
  color: var(--color-slate-200, #e2e8f0);
  padding: 0.5rem 0.75rem;
  border-radius: var(--radius-sm, 0.375rem);
  font-size: var(--font-size-xs, 0.75rem);
  font-weight: var(--font-weight-medium, 500);
  white-space: nowrap;
  z-index: 50;
  pointer-events: none;
  opacity: 0;
  transform: scale(0.95);
  transition: 
    opacity var(--duration-fast, 0.2s) var(--easing-ease-out, cubic-bezier(0.4, 0, 0.2, 1)), 
    transform var(--duration-fast, 0.2s) var(--easing-ease-out, cubic-bezier(0.4, 0, 0.2, 1));
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
  border: 1px solid var(--color-slate-700, #334155);
}

.tooltip.show {
  opacity: 1;
  transform: scale(1);
}

.tooltip.top {
  bottom: calc(100% + 0.5rem);
  left: 50%;
  transform: translateX(-50%) scale(0.95);
}

.tooltip.top.show {
  transform: translateX(-50%) scale(1);
}

.tooltip.bottom {
  top: calc(100% + 0.5rem);
  left: 50%;
  transform: translateX(-50%) scale(0.95);
}

.tooltip.bottom.show {
  transform: translateX(-50%) scale(1);
}

.tooltip.left {
  right: calc(100% + 0.5rem);
  top: 50%;
  transform: translateY(-50%) scale(0.95);
}

.tooltip.left.show {
  transform: translateY(-50%) scale(1);
}

.tooltip.right {
  left: calc(100% + 0.5rem);
  top: 50%;
  transform: translateY(-50%) scale(0.95);
}

.tooltip.right.show {
  transform: translateY(-50%) scale(1);
}
